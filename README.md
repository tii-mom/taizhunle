# ğŸ¯ Taizhunle (å¤ªå‡†äº†) - TON é¢„æµ‹å¸‚åœº DApp

åŸºäº TON åŒºå—é“¾çš„å»ä¸­å¿ƒåŒ–é¢„æµ‹å¸‚åœºï¼Œæ”¯æŒçº¢åŒ…ç³»ç»Ÿã€å®˜æ–¹é›¨éœ²ã€ç”¨æˆ·åˆ›å»ºé¢„æµ‹ç­‰åŠŸèƒ½ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- ğŸ² **é¢„æµ‹å¸‚åœº** - åˆ›å»ºå’Œå‚ä¸å„ç§é¢„æµ‹ï¼Œä½¿ç”¨ TAI ä»£å¸ä¸‹æ³¨
- ğŸ§§ **çº¢åŒ…ç³»ç»Ÿ** - å•æ¡£é”€å”® (9.99 TON)ï¼Œè£‚å˜æœºåˆ¶ï¼Œè‡ªåŠ¨è°ƒä»·
- ğŸŒ§ï¸ **å®˜æ–¹é›¨éœ²** - 6äº¿æ± å­ï¼Œå®šæ—¶ç”Ÿæˆï¼ŒæŠ¢å¤ºæœºåˆ¶
- ğŸ‘¥ **é‚€è¯·ç³»ç»Ÿ** - é‚€è¯·å¥½å‹è·å¾—å¥–åŠ±
- ğŸ† **æ’è¡Œæ¦œ** - ç”¨æˆ·æ’åå’Œæˆå°±ç³»ç»Ÿ
- ğŸŒ **å›½é™…åŒ–** - ä¸­è‹±åŒè¯­æ”¯æŒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd taizhunle

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡ (äº¤äº’å¼)
npm run setup
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯
npm run dev

# æˆ–åˆ†åˆ«å¯åŠ¨
npm run dev:client  # å‰ç«¯ http://localhost:5173
npm run dev:server  # åç«¯ http://localhost:3000
```

### 3. éªŒè¯é…ç½®

```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
npm run env:validate

# æŸ¥çœ‹å¥åº·çŠ¶æ€
curl http://localhost:3000/health
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 19** + **TypeScript 5.9** - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Vite 7** - å¿«é€Ÿæ„å»ºå·¥å…·
- **TailwindCSS 3.4** - åŸå­åŒ– CSS æ¡†æ¶
- **Framer Motion 12** - åŠ¨ç”»åº“
- **React Router 7** - è·¯ç”±ç®¡ç†
- **TanStack Query 5** - æ•°æ®çŠ¶æ€ç®¡ç†
- **i18next 25** - å›½é™…åŒ–

### åç«¯
- **Node.js 20** + **Express 4** - æœåŠ¡å™¨æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Supabase** - æ•°æ®åº“å’Œè®¤è¯
- **node-cron** - å®šæ—¶ä»»åŠ¡
- **node-telegram-bot-api** - Telegram é›†æˆ

### åŒºå—é“¾
- **TON Connect 2** - é’±åŒ…è¿æ¥
- **TON API** - åŒºå—é“¾äº¤äº’
- **Tact** - æ™ºèƒ½åˆçº¦è¯­è¨€ (è®¡åˆ’ä¸­)

## ğŸ“ é¡¹ç›®ç»“æ„

```
taizhunle/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # åº”ç”¨ä¸»é¡µé¢
â”‚   â”œâ”€â”€ pages/                  # è·¯ç”±é¡µé¢
â”‚   â”œâ”€â”€ components/             # ç»„ä»¶åº“
â”‚   â”‚   â”œâ”€â”€ common/            # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ market/            # å¸‚åœºç›¸å…³
â”‚   â”‚   â”œâ”€â”€ redpacket/         # çº¢åŒ…ç›¸å…³
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ hooks/                  # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ services/              # API æœåŠ¡
â”‚   â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ locales/               # å›½é™…åŒ–æ–‡ä»¶
â”‚   â””â”€â”€ server/                # åç«¯ä»£ç 
â”‚       â”œâ”€â”€ routes/            # API è·¯ç”±
â”‚       â”œâ”€â”€ jobs/              # å®šæ—¶ä»»åŠ¡
â”‚       â””â”€â”€ bot/               # Telegram Bot
â”œâ”€â”€ public/                     # é™æ€èµ„æº
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ scripts/                    # å·¥å…·è„šæœ¬
```

## ğŸ”§ é…ç½®è¯´æ˜

### å¿…éœ€é…ç½®
- **Supabase**: æ•°æ®åº“å’Œåç«¯æœåŠ¡
- **Telegram Bot**: ç®¡ç†å’Œé€šçŸ¥åŠŸèƒ½
- **TON API**: åŒºå—é“¾äº¤äº’
- **JWT Secret**: å®‰å…¨è®¤è¯

### ä¸šåŠ¡é…ç½®
- **çº¢åŒ…ä»·æ ¼**: é»˜è®¤ 9.99 TON
- **è£‚å˜ç³»æ•°**: æ­£å¸¸ 5%ï¼ŒåŠ é€ŸæœŸ 10%
- **å®˜æ–¹é›¨éœ²**: æ¯ä»½ 1000ä¸‡ TAI
- **æ‰‹ç»­è´¹**: æ€»è®¡ 5% (åˆ›å»ºè€… 1.5% + é‚€è¯· 1.5% + å¹³å° 2%)

è¯¦ç»†é…ç½®è¯´æ˜è¯·æŸ¥çœ‹ [ç¯å¢ƒé…ç½®æŒ‡å—](docs/ENVIRONMENT.md)

## ğŸ“š å¼€å‘æŒ‡å—

### ç¯å¢ƒå˜é‡ç®¡ç†
```bash
npm run setup          # äº¤äº’å¼é…ç½®
npm run env:validate   # éªŒè¯é…ç½®
npm run env:check      # æ£€æŸ¥é…ç½®
```

### æ•°æ®åº“ç®¡ç†
```bash
npm run db:reset       # é‡ç½®æœ¬åœ°æ•°æ®åº“
npm run db:push        # æ¨é€ Schema åˆ°è¿œç¨‹
```

### ä»£ç è´¨é‡
```bash
npm run lint           # ä»£ç æ£€æŸ¥
npm run build          # æ„å»ºé¡¹ç›®
npm run preview        # é¢„è§ˆæ„å»ºç»“æœ
```

## ğŸš€ éƒ¨ç½²

### ä¸€é”®éƒ¨ç½²
```bash
npm run deploy         # éƒ¨ç½²åˆ° Vercel
```

### Docker éƒ¨ç½²
```bash
docker-compose up -d   # ä½¿ç”¨ Docker Compose
```

### æ‰‹åŠ¨éƒ¨ç½²
```bash
npm run build          # æ„å»ºé¡¹ç›®
npm start              # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
```

æ”¯æŒçš„éƒ¨ç½²å¹³å°ï¼š
- **Vercel** (æ¨èå‰ç«¯)
- **Railway** (æ¨èå…¨æ ˆ)
- **Docker** (è‡ªæ‰˜ç®¡)
- **Netlify** (é™æ€éƒ¨ç½²)

## ğŸ” å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒå˜é‡å®‰å…¨**
   - æ°¸è¿œä¸è¦æäº¤ `.env` æ–‡ä»¶
   - ä½¿ç”¨å¼ºå¯†ç å’Œéšæœºå¯†é’¥
   - å®šæœŸè½®æ¢ API å¯†é’¥

2. **é’±åŒ…å®‰å…¨**
   - æµ‹è¯•ç¯å¢ƒä½¿ç”¨æµ‹è¯•ç½‘
   - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç¡¬ä»¶é’±åŒ…
   - é™åˆ¶é’±åŒ…æƒé™å’Œä½™é¢

3. **API å®‰å…¨**
   - å¯ç”¨é€Ÿç‡é™åˆ¶
   - éªŒè¯æ‰€æœ‰è¾“å…¥
   - ä½¿ç”¨ HTTPS

## ğŸ“Š åŠŸèƒ½å¼€å…³

é€šè¿‡ç¯å¢ƒå˜é‡æ§åˆ¶åŠŸèƒ½å¯ç”¨/ç¦ç”¨ï¼š

```env
VITE_ENABLE_REDPACKET=true        # çº¢åŒ…åŠŸèƒ½
VITE_ENABLE_OFFICIAL_RAIN=true    # å®˜æ–¹é›¨éœ²
VITE_ENABLE_USER_PREDICTION=true  # ç”¨æˆ·åˆ›å»ºé¢„æµ‹
VITE_ENABLE_APPEAL_SYSTEM=true    # ç”³è¯‰ç³»ç»Ÿ
```

## ğŸ¤– Telegram Bot

### ç®¡ç†å‘˜å‘½ä»¤
- `/price` - æŸ¥çœ‹å½“å‰çº¢åŒ…ä»·æ ¼
- `/accelerate` - æŸ¥çœ‹åŠ é€ŸæœŸçŠ¶æ€
- `/approve <id>` - é€šè¿‡é¢„æµ‹å®¡æ ¸
- `/reject <id>` - æ‹’ç»é¢„æµ‹å®¡æ ¸
- `/settle <id> <result>` - ç»“ç®—é¢„æµ‹ç»“æœ

### ç”¨æˆ·å‘½ä»¤
- `/soldout` - æŸ¥çœ‹é”€å”®çŠ¶æ€
- `/next` - æŸ¥çœ‹ä¸‹è½®å®˜æ–¹é›¨éœ²æ—¶é—´

## ğŸ“ˆ ç›‘æ§å’Œåˆ†æ

### å¥åº·æ£€æŸ¥
```bash
curl http://localhost:3000/health
```

### é…ç½®æŸ¥çœ‹ (å¼€å‘ç¯å¢ƒ)
```bash
curl http://localhost:3000/api/config
```

### æ—¥å¿—æŸ¥çœ‹
```bash
tail -f logs/app.log
```

## ğŸ†˜ æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜
1. **ç¯å¢ƒå˜é‡æœªåŠ è½½** - è¿è¡Œ `npm run env:validate`
2. **æ•°æ®åº“è¿æ¥å¤±è´¥** - æ£€æŸ¥ Supabase é…ç½®
3. **Telegram Bot æ— å“åº”** - éªŒè¯ Bot Token
4. **TON API è°ƒç”¨å¤±è´¥** - æ£€æŸ¥ API Key å’Œç½‘ç»œ

### è·å–å¸®åŠ©
- ğŸ“– [é¡¹ç›®æ–‡æ¡£](docs/)
- ğŸ› [GitHub Issues](https://github.com/your-repo/issues)
- ğŸ’¬ [Telegram ç¾¤ç»„](https://t.me/your-group)

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

---

**æœ€åæ›´æ–°**: 2025-10-31  
**ç‰ˆæœ¬**: v1.0.0  
**å¼€å‘å›¢é˜Ÿ**: Taizhunle Team
